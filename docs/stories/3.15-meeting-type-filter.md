# Story 3.15: Meeting Type Filter

**Epic:** 3 — Frontend Dashboard
**Points:** 3
**Priority:** High
**Sprint:** 5
**Depends on:** 3.14 (Filter Bar Redesign)
**Spec:** `docs/ux/FRONTEND-SPEC-timeline-polish-v3.md` (Section 5)

---

## User Story

**As a** project director,
**I want** to filter decisions by meeting type (client meeting, coordination, design review, etc.),
**So that** I can focus on decisions from specific contexts like client calls or internal coordination.

---

## Acceptance Criteria

### New Filter Button
- [x] "Type" filter button appears in filter bar after "Who" filter
- [x] Uses Tag icon (lucide-react) + "Type" label
- [x] Same pill styling as other filter buttons
- [x] Shows active count badge when types selected

### Filter Popover
- [x] Clicking "Type" opens popover with available meeting types
- [x] Meeting types extracted from loaded decisions data
- [x] Each type row shows a color dot matching MeetingTypeBadge colors:
  - Client Meeting → rose dot
  - Coordination → teal dot
  - Design Review → amber dot
  - Internal Review → blue dot
- [x] Clicking a row toggles that type filter on/off
- [x] Multiple types can be selected simultaneously

### Filter Logic
- [x] When meeting type filters active, only decisions from matching meeting types are shown
- [x] Decisions without `meeting_type` are hidden when type filter is active
- [x] Filter combines with other active filters (AND logic)
- [x] Clearing the type filter shows all decisions again

### Active Chips
- [x] Selected meeting types appear as removable chips in the active filters row
- [x] Chips use meeting type colors (rose for client, teal for coordination, etc.)
- [x] Clicking X on a chip removes that specific type filter

### Filter Store
- [x] `meetingTypes: string[]` added to filterStore state
- [x] `toggleMeetingType(type: string)` action added
- [x] `setMeetingTypes(types: string[])` action added
- [x] `reset()` action clears meetingTypes
- [x] State persisted to localStorage

---

## Technical Notes

### Files to Modify

| File | Changes |
|------|---------|
| `src/store/filterStore.ts` | Add `meetingTypes`, `toggleMeetingType`, `setMeetingTypes`, update `reset()` |
| `src/components/organisms/FilterBar.tsx` | Add Type filter button + popover |
| `src/components/molecules/FilterPopover.tsx` | Support color dots option for items |
| `src/pages/ProjectDetail.tsx` | Add meeting type filtering to decision filter logic |

### Meeting Type Colors (for dots and chips)

```typescript
const MEETING_TYPE_COLORS: Record<string, { bg: string; text: string; dot: string }> = {
  'client meeting': { bg: 'bg-rose-50', text: 'text-rose-700', dot: 'bg-rose-400' },
  'coordination': { bg: 'bg-teal-50', text: 'text-teal-700', dot: 'bg-teal-400' },
  'design review': { bg: 'bg-amber-50', text: 'text-amber-700', dot: 'bg-amber-400' },
  'internal review': { bg: 'bg-blue-50', text: 'text-blue-700', dot: 'bg-blue-400' },
  'internal': { bg: 'bg-blue-50', text: 'text-blue-700', dot: 'bg-blue-400' },
}
```

---

## File List

| File | Status |
|------|--------|
| `src/store/filterStore.ts` | Modified |
| `src/components/organisms/FilterBar.tsx` | Modified |
| `src/components/molecules/FilterPopover.tsx` | Modified |
| `src/pages/ProjectDetail.tsx` | Modified |

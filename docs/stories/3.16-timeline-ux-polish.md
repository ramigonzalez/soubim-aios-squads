# Story 3.16: Timeline UX Polish — Meeting Border Color + Filter Dropdown Styling

**Epic:** 3 — Frontend Dashboard
**Points:** 2
**Priority:** High
**Sprint:** 5
**Depends on:** 3.13 (Visual Hierarchy), 3.14 (Filter Bar Redesign), 3.15 (Meeting Type Filter)
**Spec:** UX review by Uma (UX-Design Expert) — 2026-02-09

---

## User Story

**As a** project director reviewing the timeline,
**I want** meeting cards to be color-coded by meeting type (not discipline) and filter dropdowns to look polished,
**So that** I can instantly identify meeting context and interact with a professional, consistent UI.

---

## Problem Statement

Two UX regressions were identified during the timeline review:

### Issue 1: Meeting Card Border Color is Misleading

The MeetingGroup card's left `border-l-4` accent currently uses the **first participant's discipline color** (via `getDisciplineBorderColor(disciplines[0])`). For multi-discipline meetings (e.g., MEP + Architecture + Structural), only one discipline color shows — misleading users into thinking the meeting is single-discipline.

**Root cause:** `MeetingGroup.tsx:65-70` picks `disciplines[0]` and calls `getDisciplineBorderColor()`.

**Fix:** Switch the border color to reflect the **meeting type** (Client Meeting → rose, Coordination → teal, Design Review → amber, Internal → blue). A meeting always has exactly one type, making this unambiguous and consistent with the MeetingTypeBadge already in the header.

### Issue 2: Filter Dropdown Contents Look Unstyled

The filter popover checkboxes render as **native browser defaults** (dark, square) instead of the styled versions (rounded, blue accent). The date inputs also appear with dark browser defaults.

**Root cause:** `@tailwindcss/forms` plugin is not installed. The Tailwind classes already applied (`rounded`, `text-blue-600`, `focus:ring-blue-500`) only work when this plugin resets form element styles.

**Fix:** Install `@tailwindcss/forms` and register it in the Tailwind config. Additionally, add discipline color dots and avatar initials to dropdowns for visual consistency, and convert date presets to pill buttons.

---

## Acceptance Criteria

### Meeting Border Color (Issue 1)

- [x] MeetingGroup left border color is based on `meeting.meetingType`, NOT first discipline
- [x] Color mapping matches MeetingTypeBadge:
  - Client Meeting → `border-l-rose-400`
  - Coordination → `border-l-teal-400`
  - Design Review → `border-l-amber-400`
  - Internal / Internal Review → `border-l-blue-400`
  - Unknown/missing → `border-l-gray-300`
- [x] Orphan meetings ("Other Decisions") keep `border-l-gray-300`
- [x] `getMeetingTypeBorderColor()` utility function exists in `utils.ts`
- [x] `getDisciplineBorderColor()` removed from `utils.ts` (no other consumers)
- [x] MeetingGroup tests updated to verify meeting-type-based border

### Filter Dropdown Polish (Issue 2)

- [x] `@tailwindcss/forms` installed as devDependency
- [x] Plugin registered in `tailwind.config.ts` plugins array
- [x] All filter checkboxes render as styled (rounded corners, blue accent color)
- [x] Date inputs render with light styling (not dark browser defaults)
- [x] Discipline filter dropdown shows colored dot before each discipline name
- [x] `getDisciplineDotColor()` utility function exists in `utils.ts`
- [x] Who filter dropdown shows avatar circle with initials before each name
- [x] Date range presets displayed as horizontal pill buttons (not vertical text links)
- [x] Each filter popover has "Clear" action when selections are active
- [x] `filterStore.ts` has `clearDisciplines()`, `clearDecisionMakers()`, `clearMeetingTypes()` actions

### Quality

- [x] All existing tests pass (`npm run test`)
- [x] TypeScript compiles without errors (`npm run typecheck`)
- [ ] Visual verification: border colors match MeetingTypeBadge, checkboxes look styled

---

## Technical Notes

### Files to Modify

| File | Changes |
|------|---------|
| `package.json` | Add `@tailwindcss/forms` devDependency |
| `tailwind.config.ts` | Add `require('@tailwindcss/forms')` to plugins |
| `src/lib/utils.ts` | Add `getMeetingTypeBorderColor()`, `getDisciplineDotColor()`; remove `getDisciplineBorderColor()` |
| `src/components/molecules/MeetingGroup.tsx` | Switch border from discipline to meeting type |
| `src/components/organisms/FilterBar.tsx` | Add color dots, avatar initials, date pills, clear actions |
| `src/store/filterStore.ts` | Add per-category clear actions |
| `src/tests/components/MeetingGroup.test.tsx` | Update border color tests |

### Meeting Type Border Color Map

```typescript
export function getMeetingTypeBorderColor(type?: string): string {
  if (!type) return 'border-l-gray-300'
  const colorMap: Record<string, string> = {
    'client meeting': 'border-l-rose-400',
    'coordination': 'border-l-teal-400',
    'design review': 'border-l-amber-400',
    'internal review': 'border-l-blue-400',
    'internal': 'border-l-blue-400',
  }
  return colorMap[type.toLowerCase()] || 'border-l-gray-300'
}
```

### Discipline Dot Color Map

```typescript
export function getDisciplineDotColor(discipline: string): string {
  const colorMap: Record<string, string> = {
    architecture: 'bg-blue-400',
    mep: 'bg-orange-400',
    structural: 'bg-purple-400',
    electrical: 'bg-amber-400',
    plumbing: 'bg-cyan-400',
    landscape: 'bg-green-400',
  }
  return colorMap[discipline.toLowerCase()] || 'bg-gray-400'
}
```

---

## File List

| File | Status |
|------|--------|
| `package.json` | Modified |
| `tailwind.config.ts` | Modified |
| `src/lib/utils.ts` | Modified |
| `src/components/molecules/MeetingGroup.tsx` | Modified |
| `src/components/organisms/FilterBar.tsx` | Modified |
| `src/store/filterStore.ts` | Modified |
| `src/tests/components/MeetingGroup.test.tsx` | Modified |

# Story 3.14: Filter Bar Redesign

**Epic:** 3 — Frontend Dashboard
**Points:** 5
**Priority:** High
**Sprint:** 5
**Depends on:** 3.6 (Filters & Search Bar)
**Spec:** `docs/ux/FRONTEND-SPEC-timeline-polish-v3.md` (Section 4)

---

## User Story

**As a** project team member,
**I want** clearly labeled, well-styled filter controls with a clean minimalist design,
**So that** I can quickly identify and apply filters without guessing what each dropdown does.

---

## Acceptance Criteria

### Filter Button Labels & Icons
- [x] Discipline filter shows Building2 icon + "Discipline" label
- [x] Date filter shows Calendar icon + "Date range" label
- [x] Who filter shows Users icon + "Who" label
- [x] Type filter shows Tag icon + "Type" label (new, see Story 3.15)
- [x] Icons are `w-3.5 h-3.5` — subtle, not overpowering

### Pill-Style Buttons
- [x] Filter buttons use `rounded-full` shape
- [x] Default: `border-gray-200 text-gray-600`
- [x] Active: `border-blue-200 bg-blue-50 text-blue-700`
- [x] Active count badge: small blue circle with white number

### Checkbox Styling
- [x] All filter checkboxes are styled (not dark system defaults)
- [x] Checkboxes use `rounded border-gray-300 text-blue-600`
- [x] Hover state on checkbox row items

### Date Input Styling
- [x] Date inputs use light styling: `bg-white border border-gray-200`
- [x] Quick presets styled as clean clickable text links
- [x] No dark/heavy backgrounds on date pickers

### Layout Changes
- [x] Search input on its own row, full width
- [x] Filter buttons on second row with spacing
- [x] Group-by toggle moved inline with filter pills (right-aligned)
- [x] Group-by toggle styled as segmented control (pill shape, white active bg)
- [x] Active filter chips displayed below filter pills row

### Popover Improvements
- [x] Popovers use `rounded-xl` and `shadow-md`
- [x] Consistent width `w-56` across all filter popovers
- [x] Item rows have hover state (`hover:bg-gray-50`)

---

## Technical Notes

### Files to Modify

| File | Changes |
|------|---------|
| `src/components/organisms/FilterBar.tsx` | Redesign layout: search row + filter pills row, add icons, labels, restyle, move group-by inline |
| `src/components/molecules/FilterPopover.tsx` | Pill-style trigger, styled checkboxes, improved popover |
| `src/pages/ProjectDetail.tsx` | Remove standalone GroupingToggle, pass groupBy props to FilterBar |

### Group-by Toggle Props

FilterBar now needs to manage the group-by toggle:

```typescript
interface FilterBarProps {
  decisions: Decision[]
  groupBy: 'date' | 'discipline'
  onGroupByChange: (value: 'date' | 'discipline') => void
}
```

---

## File List

| File | Status |
|------|--------|
| `src/components/organisms/FilterBar.tsx` | Modified |
| `src/components/molecules/FilterPopover.tsx` | Modified |
| `src/pages/ProjectDetail.tsx` | Modified |

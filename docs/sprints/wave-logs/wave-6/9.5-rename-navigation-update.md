# Wave 6 — Story 9.5: Rename & Navigation Update

**Agent:** @dev (Dex) — worktree agent-adf3f152
**Date:** 2026-02-28
**Status:** Complete

## Summary
Renamed "Timeline" to "Project History" throughout the UI. Added 3-tab segmented control (Milestone Timeline, Project History, Executive Digest) with URL hash persistence. Added breadcrumb navigation that updates per active view. Dynamic page heading matches active tab.

## Files Created
| File | Purpose |
|------|---------|
| `decision-log-frontend/src/tests/pages/ProjectDetail.test.tsx` | 19 tests covering tab toggle, URL hash persistence, breadcrumb nav, page heading, rename verification |

## Files Modified
| File | Changes |
|------|---------|
| `decision-log-frontend/src/pages/ProjectDetail.tsx` | Added getInitialView() URL hash reader, handleViewChange() with replaceState, breadcrumb nav with aria-label, dynamic h1 heading, segmented tab control with Star/Clock/FileText icons, ARIA tab/tablist roles |
| `decision-log-frontend/src/components/organisms/Timeline.tsx` | Changed error text from "Failed to load items" to "Failed to load project history" |
| `decision-log-frontend/src/tests/components/Timeline.test.tsx` | Updated expected error text to match rename |

## Key Decisions
1. URL hash persistence uses `window.history.replaceState` (not pushState) to avoid polluting browser history.
2. Default view is "milestones" when no hash or invalid hash is present.
3. Tab control uses ARIA `role="tablist"` and `role="tab"` with `aria-selected` for accessibility.
4. Each tab has an icon: Star (Milestone Timeline), Clock (Project History), FileText (Executive Digest).
5. FilterBar only shown in Project History view.
6. Breadcrumb shows: Projects > {viewLabel} with link back to /projects.

## Merge Notes
- Worktree agent based its ProjectDetail.tsx on older codebase (useDecisions instead of useProjectItems). All 9.5 features were manually re-applied onto main's V2 base during merge.
- Test file was rewritten to mock V2 hooks (useProjectItems, useToggleMilestone, useMilestones, useStages, useMilestoneFilters, useFilterUrlSync).

## Test Results
```
ProjectDetail.test.tsx: 19 passed
  - Tab toggle rendering: 5 tests
  - URL hash persistence: 5 tests
  - Breadcrumb navigation: 5 tests
  - Page heading: 1 test
  - Rename verification: 1 test
  - Decision count: 1 test
  - FilterBar visibility: 1 test
```
